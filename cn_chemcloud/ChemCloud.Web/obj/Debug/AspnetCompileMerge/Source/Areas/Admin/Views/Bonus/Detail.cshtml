<script src="~/Scripts/jquery.ChemCloudUpload.js"></script>
<script src="~/Scripts/jquery.placeholder.min.js"></script>
<script src="~/Scripts/bootstrap.autocomplete.js"></script>
<script src="~/Scripts/jquery.ChemCloudDatagrid.js"></script>

<div class="container">
    <ul class="nav nav-tabs-custom clearfix">
        <strong>红包管理</strong>
        <li><a href="/Admin/Bonus/Management">管理</a></li>
        <li class="active"><a>详情</a></li>
    </ul>


    <table class="table" id="list"></table>
</div>

<script type="text/javascript">
    $( function ()
    {
        loadGrid();
    } )

    function loadGrid()
    {
        $( "#list" ).hiMallDatagrid( {
            url: '/Admin/Bonus/DetailList',
            nowrap: false,
            rownumbers: true,
            NoDataMsg: '没有找到符合条件的数据',
            border: false,
            fit: true,
            fitColumns: true,
            pagination: true,
            idField: "Id",
            pageSize: 20,
            pageNumber: 1,
            queryParams: { id : @ViewBag.Id },
            toolbar: /*"#goods-datagrid-toolbar",*/'',
            columns:
            [[
                { field: "OpenId", title: "OpenId" , formatter: function ( value, row, index ){
                    if(row.OpenId == null)
                    {
                        return "-";
                    }
                    else
                    {
                        return row.OpenId;
                    }
                } },
                { field: "ReceiveTime", title: "领取日期" , formatter: function ( value, row, index ){
                    if(row.ReceiveTime == null || row.ReceiveTime == "")
                    {
                        return "-";
                    }
                    else
                    {
                        return row.ReceiveTime;
                    }
                } },
                { field: "UserName", title: "会员账户" , formatter: function ( value, row, index ){
                    if(row.UserName == null || row.UserName == "")
                    {
                        return "-";
                    }
                    else
                    {
                        return row.UserName;
                    }
                } },
                { field: "IsTransformedDeposit", title: "存至预存款" , formatter: function ( value, row, index ){
                    if(row.IsTransformedDeposit)
                    {
                        return "是";
                    }
                    else
                    {
                        return "否";
                    }
                } },
                { field: "Price", title: "金额" }
            ]]
        } );
    }
</script>